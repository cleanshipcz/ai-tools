id: add-null-safety
version: 1.0.0
description: Add null safety checks to code that may have null pointer issues
tags:
  - refactor
  - kotlin
  - safety
variables:
  - name: code
    required: true
    description: "The code to make null-safe"
  - name: language
    required: true
    description: "Programming language"
includes:
  - ../shared/constraints.md
  - ../shared/acceptance_criteria.md
rules:
  - "Use language-appropriate null safety patterns."
  - "Prefer optional chaining or safe calls over explicit null checks."
  - "Consider using nullable types where appropriate."
  - "Add tests covering null cases."
content: |
  Analyze the following {{language}} code for potential null pointer issues and add appropriate null safety:

  ```{{language}}
  {{code}}
  ```

  Tasks:
  1. Identify all places where null/undefined could cause issues
  2. Add appropriate null checks or safe navigation
  3. Use language idioms (e.g., Kotlin's `?.`, Python's `Optional`, etc.)
  4. Consider returning early with null checks where appropriate
  5. Add defensive assertions if needed

  {{> constraints}}
  {{> acceptance_criteria}}
outputs:
  format: code
metadata:
  author: "AI Tools Team"
  created: "2025-01-01"
